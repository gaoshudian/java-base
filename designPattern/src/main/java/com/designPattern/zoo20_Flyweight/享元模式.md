##享元模式
####1.享元模式的定义
    运用共享技术有效地支持大量细粒度的对象。
####2.享元模式的优缺点
    优点:减少对象数量，节省内存空间
        可能有的朋友认为共享对象会浪费空间，但是如果这些对象频繁使用，那么其实是节省空间的。因为占用空间的大小等于每个对象实例占用的大小再乘以
     数量，对于享元对象来讲，基本上就只有一个实例，大大减少了享元对象的数量，并节省不少的内存空间。
        节省的空间取决于以下几个因素：因为共享而减少的实例数目、每个实例本身所占用的空间。假如每个对象实例占用2个字节，如果不共享数量是100个，
     而共享过后就只有一个了，那么节省的空间约等于：(100-1) X 2 字节。
   
    缺点:维护共享对象，需要额外开销
        如同前面演示的享元工厂，在维护共享对象的时候，如果功能复杂，会有很多额外的开销，比如有一个线程来维护垃圾回收。
####3.享元模式的本质
    享元模式的本质：分离与共享。
    分离的是对象状态中变与不变的部分，共享的是对象中不变的部分。享元模式的关键之处就在于分离变与不变，把不变的部分作为享元对象的内部状态，
    而变化部分就作为外部状态，由外部来维护，这样享元对象就能够被共享，从而减少对象数量，并节省大量的内存空间。
####4.何时选用享元模式
     建议在如下情况中，选用享元模式：
      1>如果一个应用程序使用了大量的细粒度对象，可以使用享元模式来减少对象数量
      2>如果由于使用大量的对象，造成很大的存储开销，可以使用享元模式来减少对象数量，并节约内存
      3>如果对象的大多数状态都可以转变为外部状态，比如通过计算得到，或是从外部传入等，可以使用享元模式来实现内部状态和外部状态的分离
      4>如果不考虑对象的外部状态，可以用相对较少的共享对象取代很多组合对象，可以使用享元模式来共享对象，然后组合对象来使用这些共享对象
####5.相关模式
      1>享元模式与单例模式
          这两个模式可以组合使用。
          通常情况下，享元模式中的享元工厂可以实现成为单例。另外，享元工厂里面缓存的享元对象，都是单实例的，可以看成是单例模式的一种变形控制，
          在享元工厂里面来单例享元对象。
      2>享元模式与组合模式
          这两个模式可以组合使用。
          在享元模式里面，存在不需要共享的享元实现，这些不需要共享的享元通常是对共享的享元对象的组合对象，也就是说，享元模式通常会和组合模式
          组合使用，来实现更复杂的对象层次结构。
      3>享元模式与状态模式
          这两个模式可以组合使用。
          可以使用享元模式来共享状态模式中的状态对象，通常在状态模式中，会存在数量很大的、细粒度的状态对象，而且它们基本上都是可以重复使用的，
          都是用来处理某一个固定的状态的，它们需要的数据通常都是由上下文传入，也就是变化部分都分离出去了，所以可以用享元模式来实现这些状态对象。
      4>享元模式与策略模式
          这两个模式可以组合使用。
          可以使用享元模式来实现策略模式中的策略对象，跟状态模式一样，在策略模式中也存在大量细粒度的策略对象，它们需要的数据同样是从上下文传入
          的，所以可以使用享元模式来实现这些策略对象