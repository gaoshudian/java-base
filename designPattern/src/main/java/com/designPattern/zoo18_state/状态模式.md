##状态模式
####1.状态模式的定义
    允许一个对象在其内部状态改变时改变它的行为。对象看起来似乎修改了它的类
####2.状态模式的本质
    状态模式的本质：根据状态来分离和选择行为。
        仔细分析状态模式的结构，如果没有上下文，那么就退化回到只有接口和实现了，正是通过接口，把状态和状态对应的行为分开，
    才使得通过状态模式设计的程序易于扩展和维护。
    而上下文主要负责的是公共的状态驱动，每当状态发生改变的时候，通常都是回调上下文来执行状态对应的功能。当然，上下文自身也
    可以维护状态的变化，另外，上下文通常还会作为多个状态处理类之间的数据载体，在多个状态处理类之间传递数据。
####3.何时选用状态模式
    建议在如下情况中，选用状态模式：
    1>如果一个对象的行为取决于它的状态，而且它必须在运行时刻根据状态来改变它的行为。可以使用状态模式，来把状态和行为分离开，
    虽然分离开了，但状态和行为是有对应关系的，可以在运行期间，通过改变状态，就能够调用到该状态对应的状态处理对象上去，从而
    改变对象的行为。
    2>如果一个操作中含有庞大的多分支语句，而且这些分支依赖于该对象的状态。可以使用状态模式，把各个分支的处理分散包装到单独的
    对象处理类里面，这样，这些分支对应的对象就可以不依赖于其它对象而独立变化了。
####4.相关模式
    1>状态模式和策略模式
    这是两个结构相同，功能各异的模式，具体的在策略模式里面讲过了，这里就不再赘述了。
    
    2>状态模式和观察者模式
        这两个模式乍一看，功能是很相似的，但是又有区别，可以组合使用。
        这两个模式都是在状态发生改变的时候触发行为，只不过观察者模式的行为是固定的，那就是通知所有的观察者，而状态模式是根据状态
    来选择不同的处理。
        从表面来看，两个模式功能相似，观察者模式中的被观察对象就好比状态模式中的上下文，观察者模式中当被观察对象的状态发生改变
    的时候，触发的通知所有观察者的方法；就好比是状态模式中，根据状态的变化，选择对应的状态处理。
        但实际这两个模式是不同的，观察者模式的目的是在被观察者的状态发生改变的时候，触发观察者联动，具体如何处理观察者模式不管；
    而状态模式的主要目的在于根据状态来分离和选择行为，当状态发生改变的时候，动态改变行为。
        这两个模式是可以组合使用的，比如在观察者模式的观察者部分，当被观察对象的状态发生了改变，触发通知了所有的观察者过后，
    观察者该怎么处理呢？这个时候就可以使用状态模式，根据通知过来的状态选择相应的处理。
    
    3>状态模式和单例模式
    这两个模式可以组合使用，可以把状态模式中的状态处理类实现成单例。
    
    4> 状态模式和享元模式
    这两个模式可以组合使用。
    由于状态模式把状态对应的行为分散到多个状态对象中，会造成很多细粒度的状态对象，可以把这些状态处理对象通过享元模式来共享，从而节省资源。